<!doctype html><html><head><title>Deploy Dependency Track and monitor you apps</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/layouts/main.css><link rel=stylesheet href=/css/navigators/navbar.css><link rel=stylesheet href=/css/plyr.css><link rel=stylesheet href=/css/flag-icon.min.css><link href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css><link rel=icon type=image/png href=/images/olivier_hu0e6c1c8c6dc6b67478684e7b00b46b4a_53705_42x0_resize_q75_box.jpeg><meta property="og:title" content="Deploy Dependency Track and monitor you apps"><meta property="og:description" content="Deploy Dependency Track and monitor you apps"><meta property="og:type" content="article"><meta property="og:url" content="https://olivierlespagnon.com/posts/r%C3%A9alisations-techniques/deploy-dependency-track/deploying-dependency-track/"><meta property="article:published_time" content="2022-06-05T08:06:25+06:00"><meta property="article:modified_time" content="2022-06-05T08:06:25+06:00"><meta name=description content="Deploy Dependency Track and monitor you apps"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css><link rel=stylesheet href=/css/layouts/single.css><link rel=stylesheet href=/css/navigators/sidebar.css><link rel=stylesheet href=/css/style.css></head><body data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button onclick=toggleSidebar()>
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand href=/>Olivier Lespagnon</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button onclick=toggleTOC()>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"></ul></div></div></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts data-filter=all>Posts</a></li><div class=subtree><li><i class="fas fa-minus-circle"></i><a class=active href=/posts/r%C3%A9alisations-techniques/>RÃ©alisations techniques</a><ul class=active><li><a href=/posts/r%C3%A9alisations-techniques/create-and-host-a-static-website-using-github-actions/github_website/ title="Create a static website">Create a static website</a></li><li><a class=active href=/posts/r%C3%A9alisations-techniques/deploy-dependency-track/deploying-dependency-track/ title="Deploy Dependency Track">Deploy Dependency Track</a></li><li><a href=/posts/r%C3%A9alisations-techniques/hashicorp-vault/hashicorp_vault/ title="Hashicorp Vault">Hashicorp Vault</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/soft-skills/>Soft skills</a><ul><li><a href=/posts/soft-skills/learn-a-new-job/learn_for_a_new_position/ title="How to train when taking on a new position">How to train when taking on a new position</a></li><li><a href=/posts/soft-skills/how-to-write-a-good-post/writing_good_post/ title="How to write a good blog post">How to write a good blog post</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/tech/>Tech</a><ul><li><a href=/posts/tech/aws-ecs-vs-eks/choose_the_right_container/ title="AWS ECS vs EKS">AWS ECS vs EKS</a></li><li><a href=/posts/tech/choosing-the-right-linux-distro/choosing_the_distro/ title="Choosing the right Linux distro">Choosing the right Linux distro</a></li><li><a href=/posts/tech/under-the-ais-hood/ai_hood/ title="How does AI work ?">How does AI work ?</a></li><li><a href=/posts/tech/nodejs-is-broken/nodejs_is_broken/ title="NodeJS is broken">NodeJS is broken</a></li><li><a href=/posts/tech/the-future-of-ai/the_future_of_ai/ title="The future of AI">The future of AI</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/tutorials/>Tutorials</a><ul><li><a href=/posts/tutorials/gathering-all-service-accounts-in-aws/gathering_svc_python/ title="Gathering service accounts">Gathering service accounts</a></li><li><a href=/posts/tutorials/introduction-to-kubernetes/get_started_with_k8s/ title="Intro to K8S">Intro to K8S</a></li><li><a href=/posts/tutorials/how-to-manage-your-infrastructure-using-terraform/terraform_infra/ title="Manage your infra with Terraform">Manage your infra with Terraform</a></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(https://olivierlespagnon.com/images/default-hero.jpg)></div><div class=page-content><div class="author-profile ml-auto align-self-lg-center"><img class=rounded-circle src=/images/author/olivier_hu0e6c1c8c6dc6b67478684e7b00b46b4a_53705_120x120_fit_q75_box.jpeg alt="Author Image"><h5 class=author-name>Olivier Lespagnon</h5><p>June 5, 2022</p></div><div class=title><h1>Deploy Dependency Track and monitor you apps</h1></div><div class=post-content id=post-content><p>In software development, a dependency refers to a component or module of a program that another component or module depends on in order to function correctly. A dependency is often a library or a package that is used by a particular code component to provide additional functionality or to abstract away complex or repetitive logic.</p><p>For example, a web application might depend on a library such as jQuery or React in order to interact with the DOM and provide dynamic user interfaces. The web application cannot run without the library and it is considered a dependency of the web application.</p><p>It is important to manage dependencies in a code project because they can have a significant impact on the stability and security of the code. For example, if a dependency has a security vulnerability, it can expose the code that depends on it to a security risk. Similarly, if a dependency is updated and the update causes a compatibility issue with the code, it can cause the code to break. To address these issues, it is common to use dependency management tools such as npm, pip, or Maven to manage dependencies in a code project.</p><h2 id=alone-in-the-dark>Alone in the dark</h2><p>When you&rsquo;re working with code. A lot of code. It isn&rsquo;t always easy to know what piece of code your teams are using as dependencies. Moreover, they themselves neither keep track of it. This is an issue, every day security breaches are reported on open source code. And if you don&rsquo;t know which one affects you because you don&rsquo;t even know if your organization is using it, you&rsquo;re in for troubles. You need a way to keep track of all of this.</p><h2 id=dependency-track-saves-the-day>Dependency Track saves the day</h2><p>Dependency Track is an open-source software developed by OWASP (Open Web Application Security Project) that provides an integrated platform for software composition analysis, vulnerability management, and license compliance. It&rsquo;s a comprehensive tool for identifying, tracking, and managing the dependencies of software applications and their associated vulnerabilities.</p><p>Dependency Track enables organizations to identify potential vulnerabilities in the software they use and develop, and to mitigate these risks by prioritizing remediation efforts. It integrates with popular build tools like Maven, Gradle, and npm to automatically scan dependencies during the build process and track the components used in an application throughout its lifecycle. The software also integrates with various vulnerability databases such as the National Vulnerability Database (NVD), the Common Vulnerabilities and Exposures (CVE) database, and the OWASP Top 10 to provide up-to-date information on known vulnerabilities and their severity.</p><h2 id=how-does-it-work->How does it work ?</h2><p>When installed, you can generate BOM (bill of material) based on your code. And upload it to DP track. It will then be analyzed and a report will be generated. You can view it via the web interface and even insert badges on your project repository to show dependencies or vulnerabilities in a glance.
BOMs are generated using third party tools referenced on <a href=https://cyclonedx.org/tool-center/>CycloneDX Tool Center</a>.
The beauty of it is that a lot of them can actually run in a containerized environment, so in a CI/CD pipeline. Meaning that each changes in your codebase pushed on your repo can be analyzed seamlessly.</p><h2 id=how-to-install-it->How to install it ?</h2><p>I chose to install it on our K8S cluster. To do so I used a <a href=https://artifacthub.io/packages/helm/evryfs-oss/dependency-track>Helm chart</a>.
Ensure that Helm is installed on your machine and that your K8S cluster access is configured.
Then add the chart repo</p><pre><code>helm repo add evryfs-oss https://evryfs.github.io/helm-charts/
</code></pre><p>From the repo download the default <code>values.yaml</code> file. It contains all the configuration options you can tweak for your install. Such as database location, number of replicas for your server and basically everything.</p><p>And then installed the chart by specifying the previous file</p><pre><code>helm install my-dependency-track evryfs-oss/dependency-track  -f values.yaml --version 1.5.5
</code></pre><p>You should be up and running. Depending of which expose solutions and URL you choose you can now access your instance.</p><h2 id=integrate-a-nodejs-code-via-github-actions>Integrate a NodeJS code via GitHub Actions</h2><p>Let&rsquo;s say that you use Github to store your NodeJS code.
You can use this action template to push the BOM to your instance of DP Track.
<a href=https://github.com/marketplace/actions/cyclonedx-node-js-generate-sbom>https://github.com/marketplace/actions/cyclonedx-node-js-generate-sbom</a>
Here&rsquo;s an example of a complete GH Actions file :</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#f92672>name</span>: <span style=color:#ae81ff>Build javascript project</span>
<span style=color:#f92672>on</span>: <span style=color:#ae81ff>push</span>
<span style=color:#f92672>jobs</span>:
  <span style=color:#f92672>build</span>:
    <span style=color:#f92672>runs-on</span>: <span style=color:#ae81ff>ubuntu-latest</span>
    <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Install and build javascript</span>
    <span style=color:#f92672>steps</span>:
      - <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/checkout@v3</span>
      - <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/setup-node@v3</span>
        <span style=color:#f92672>with</span>:
          <span style=color:#f92672>node-version</span>: <span style=color:#e6db74>&#39;14&#39;</span>
      - <span style=color:#f92672>run</span>: <span style=color:#ae81ff>npm install</span>
      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Create SBOM with CycloneDX</span>
        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>CycloneDX/gh-node-module-generatebom@v1</span>
        <span style=color:#f92672>with</span>: 
          <span style=color:#f92672>output</span>: <span style=color:#e6db74>&#39;./test.app.bom.xml&#39;</span>
</code></pre></div><p>Et voilÃ  !
Now you need to configure another action to push the generated file to your DP Track instance. You can use <code>curl</code> command or use the DP Track Api with the action of your liking.</p><p>Your code is now analyzed at every push on your main branch.</p><h3 id=enjoy-the-security-and-peace-of-mind->Enjoy the security and peace of mind !</h3></div><div class="row pl-3 pr-3"><div class="col-md-6 share-buttons"></div><div class="col-md-6 btn-improve-page"><a href=https://github.com/Olesp/olesp.github.io/edit/source/content/posts/R%c3%a9alisations%20techniques/Deploy%20Dependency%20Track/Deploying%20Dependency%20Track.md title="Improve this page" target=_blank rel=noopener><i class="fas fa-code-branch"></i>Improve this page</a></div></div><hr><div class="row next-prev-navigator"><div class="col-md-6 previous-article"><a href=/posts/r%C3%A9alisations-techniques/create-and-host-a-static-website-using-github-actions/github_website/ title="Create and host a static website using Github Actions and Hugo" class="btn btn-outline-info"><div><i class="fas fa-chevron-circle-left"></i>Prev</div><div class=next-prev-text>Create and host a static website using Github Actions and Hugo</div></a></div><div class="col-md-6 next-article"><a href=/posts/r%C3%A9alisations-techniques/hashicorp-vault/hashicorp_vault/ title="Implementing a dynamic secret manager" class="btn btn-outline-info"><div>Next <i class="fas fa-chevron-circle-right"></i></div><div class=next-prev-text>Implementing a dynamic secret manager</div></a></div></div><hr></div></div></div><a id=scroll-to-top class=btn><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center pl-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><ul><li><a href=#alone-in-the-dark>Alone in the dark</a></li><li><a href=#dependency-track-saves-the-day>Dependency Track saves the day</a></li><li><a href=#how-does-it-work->How does it work ?</a></li><li><a href=#how-to-install-it->How to install it ?</a></li><li><a href=#integrate-a-nodejs-code-via-github-actions>Integrate a NodeJS code via GitHub Actions</a><ul><li><a href=#enjoy-the-security-and-peace-of-mind->Enjoy the security and peace of mind !</a></li></ul></li></ul></nav></div></div></section></div><footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://olivierlespagnon.com/#about>About</a></li><li class=nav-item><a class=smooth-scroll href=https://olivierlespagnon.com/#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=https://olivierlespagnon.com/#experiences>Experiences</a></li><li class=nav-item><a class=smooth-scroll href=https://olivierlespagnon.com/#projects>Achievements</a></li><li class=nav-item><a class=smooth-scroll href=https://olivierlespagnon.com/#education>Education</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><span>Email:</span> <span>olespagnon@protonmail.com</span></li><li><span>Github:</span> <span>Olesp</span></li><li><span>Linkedin:</span> <span>olivierlespagnon</span></li></ul></div></div></div><hr><div class=container><div class="row text-left"><div class=col-md-4><a id=theme href=https://github.com/hossainemruz/toha target=_blank rel=noopener><img src=/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_2.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">Â© 2021 Copyright.</div><div class="col-md-4 text-right"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script type=text/javascript src=/js/jquery-3.4.1.min.js></script><script type=text/javascript src=/js/popper.min.js></script><script type=text/javascript src=/js/bootstrap.min.js></script><script type=text/javascript src=/js/navbar.js></script><script type=text/javascript src=/js/plyr.js></script><script type=text/javascript src=/js/main.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js></script><script src=/js/single.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>